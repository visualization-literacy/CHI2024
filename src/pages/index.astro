---
import config from "@config/config.json";
import Base from "@layouts/Base.astro";
import Pagination from "@layouts/components/Pagination.astro";
import Posts from "@layouts/Posts.astro";
import { getSinglePage } from "@lib/contentParser.astro";
import { sortByDate } from "@lib/utils/sortFunctions";
import PostSingle from "../layouts/PostSingle.astro";
import Organizer from "./organizer.astro";

const posts = await getSinglePage("posts");

const home = posts.filter((post)=>{return post.id="homepage.md"})[0]

// const sortedPosts = sortByDate(posts);
// const totalPages = Math.ceil(posts.length / config.settings.pagination);
// const currentPosts = sortedPosts.slice(0, config.settings.pagination);
---

<Base>
    <div class="container">
      <PostSingle post={home} />
      <Organizer />

      <!--<Posts posts={currentPosts} className="mb-16" />-->
      <!--<Pagination currentPage={1} totalPages={totalPages} />-->
    </div>
</Base>
